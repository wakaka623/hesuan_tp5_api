webpackJsonp([5],{"5eyz":function(e,t,r){"use strict";t.b=function(e,t,r,a){var n={username:e,password:t,group:r,is_admin:a};return Object(s.a)({url:"/login/Login/register",method:"post",data:n})},t.c=function(e){return Object(s.a)({url:"/login/Login/getUser",method:"post",data:e})},t.d=function(e){return Object(s.a)({url:"/login/Login/getUserMsg",method:"get",params:{id:e}})},t.a=function(e){return Object(s.a)({url:"/login/Login/delUser",method:"get",params:{id:e}})},t.e=function(e){return Object(s.a)({url:"/login/Login/updataUser",method:"post",data:e})};var s=r("vLgD")},bQj5:function(e,t,r){var s=r("cCF1");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("6191f5c8",s,!0)},cCF1:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.register[data-v-72d85c3b]{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    -webkit-transform: translate(-6%);\n            transform: translate(-6%);\n    margin-top: 5px;\n}\n.pwd1[data-v-72d85c3b],.pwd2[data-v-72d85c3b]{\n  position: relative;\n}\n.show-pwd1[data-v-72d85c3b]{\n  position: absolute;\n  right: 5px;\n}\n.show-pwd2[data-v-72d85c3b]{\n  position: absolute;\n  right: 5px;\n}\n\n",""])},ekrB:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.paging[data-v-797d21c6]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding-top: 10px;\n  padding-bottom: 50px;\n}\n\n",""])},sQ4K:function(e,t,r){var s=r("ekrB");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("f35476b2",s,!0)},x0vE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("5eyz"),a={data:function(){return{tableData:[{Id:"",username:"",password:"",token:"",group:"",is_admin:""}],tableColShow:!1,currentPage:1,pagesize:10}},created:function(){this.getUserList()},methods:{handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,console.log(this.currentPage)},handleEdit:function(e){this.$router.push("/admin/edit/"+e)},handleDelete:function(e){var t=this;Object(s.a)(e).then(function(e){"1"==e.data.code?(t.$message({type:"success",message:e.data.message}),t.$router.go(0)):t.$message({type:"error",message:e.data.message})})},getUserList:function(){var e=this,t={user:this.$cookies.get("user")};Object(s.c)(t).then(function(t){"1"==t.data.code?(e.tableData=t.data.data,e.tableColShow=!e.tableColShow):e.$message({type:"error",message:t.data.message})})}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.tableColShow?r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[r("el-table-column",{attrs:{label:"ID",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.Id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.username))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"密码",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.password))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"组别",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.group))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"管理员类别",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.is_admin))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.Id)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger",disabled:"admin"==t.row.username},on:{click:function(r){e.handleDelete(t.row.Id)}}},[e._v("删除")])]}}])})],1):e._e(),e._v(" "),r("el-pagination",{staticClass:"paging",attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var o={components:{"admin-list":r("VU/8")(a,n,!1,function(e){r("sQ4K")},"data-v-797d21c6",null).exports},data:function(){var e=this;return{regForm:{reusername:"",password:"",repassword:"",regroup:"",reAdmin:""},regFormRul:{reusername:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"},{validator:function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.regForm.repassword&&e.$refs.regForm.validateField("repassword"),s())},trigger:"change"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"},{validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.regForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"change"}],regroup:[{required:!0,message:"请入组别",trigger:"blur"}],reAdmin:[{required:!0,message:"管理员类别不能为空",trigger:"blur"},{pattern:/^[0-2]{1}$/,message:"管理员类别只能为0,1,2，1为超级管理员,2部门总监，3部门经理",trigger:"blur"}]},showDialog:!1,passwordType1:"password",passwordType2:"password",disable:!1}},created:function(){"admin"==this.$cookies.get("user")&&(this.disable=!this.disable)},methods:{reg:function(){var e=this;Object(s.b)(this.regForm.reusername,this.regForm.password,this.regForm.regroup,this.regForm.reAdmin).then(function(t){console.log(t),0==t.data.code?e.$message({type:"error",message:t.data.message}):(e.$message({type:"success",message:t.data.message}),e.showDialog=!1,window.location.reload())})},showPwd1:function(){"password"===this.passwordType1?this.passwordType1="":this.passwordType1="password"},showPwd2:function(){"password"===this.passwordType2?this.passwordType2="":this.passwordType2="password"}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"register"},[r("el-button",{staticClass:"thirdparty-button",attrs:{type:"primary",disabled:0==this.disable},on:{click:function(t){e.showDialog=!0}}},[e._v(e._s("添加用户"))]),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"用户信息",visible:e.showDialog,"append-to-body":""},on:{"update:visible":function(t){e.showDialog=t}}},[r("el-form",{ref:"reForm",attrs:{model:e.regForm,rules:e.regFormRul}},[r("el-form-item",{attrs:{label:"账号",prop:"reusername"}},[r("el-input",{model:{value:e.regForm.reusername,callback:function(t){e.$set(e.regForm,"reusername",t)},expression:"regForm.reusername"}})],1),e._v(" "),r("el-form-item",{staticClass:"pwd1",attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:e.passwordType1},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}}),e._v(" "),r("span",{staticClass:"show-pwd1",on:{click:e.showPwd1}},[r("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"pwd2",attrs:{label:"确认密码",prop:"repassword"}},[r("el-input",{attrs:{type:e.passwordType2},model:{value:e.regForm.repassword,callback:function(t){e.$set(e.regForm,"repassword",t)},expression:"regForm.repassword"}}),e._v(" "),r("span",{staticClass:"show-pwd2",on:{click:e.showPwd2}},[r("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"组别",prop:"regroup"}},[r("el-input",{model:{value:e.regForm.regroup,callback:function(t){e.$set(e.regForm,"regroup",t)},expression:"regForm.regroup"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"管理员类别",prop:"reAdmin"}},[r("el-input",{model:{value:e.regForm.reAdmin,callback:function(t){e.$set(e.regForm,"reAdmin",t)},expression:"regForm.reAdmin"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.reg}},[e._v("确定")])],1)],1)],1),e._v(" "),r("admin-list")],1)},staticRenderFns:[]};var l=r("VU/8")(o,i,!1,function(e){r("bQj5")},"data-v-72d85c3b",null);t.default=l.exports}});